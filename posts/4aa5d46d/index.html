<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><script>window.materialVersion="1.5.9",window.oldVersion=["codestartv1","1.3.4","1.4.0","1.4.0b1","1.5.0"]</script><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net/gh/wincerchan/hexo-theme-material@1.6.1/source"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="renderer" content="webkit"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>从 GnuPG 的使用谈谈密码学 · Wincer&#39;s Blog</title><link rel="icon shortcut" type="image/ico" href="https://blog.itswincer.com/img/favicon.png"><link rel="icon" href="/img/favicon.png"><meta name="format-detection" content="telephone=no"><meta name="description" itemprop="description" content="前言我是一个很注重隐私的人，所以对密码学也就很感兴趣，这学期本着想进一步了解密码学的念头选了一门应用密码学的选修课（其实是为了混学分），虽说也没去过几次，但总想着这门课都快结束了总不能像没上过一样。这次借着 GnuPG（以下简称 GPG） 软件的使用也聊聊目前现代密码学中以密钥性质进行区分的两大加密方式。"><meta name="keywords" content="Blog,安全,GPG,密码学"><meta name="theme-color" content="#0097A7"><meta name="mobile-web-app-capable" content="yes"><meta name="application-name" content="Wincer&#39;s Blog"><meta name="msapplication-starturl" content="https://blog.itswincer.com/posts/4aa5d46d/"><meta name="msapplication-navbutton-color" content="#0097A7"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Wincer&#39;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="/img/favicon.png"><meta property="og:url" content="https://blog.itswincer.com/posts/4aa5d46d/"><meta property="og:type" content="blog"><meta property="og:title" content="从 GnuPG 的使用谈谈密码学 · Wincer&#39;s Blog"><meta property="og:image" content="/img/favicon.png"><meta property="og:description" content="前言我是一个很注重隐私的人，所以对密码学也就很感兴趣，这学期本着想进一步了解密码学的念头选了一门应用密码学的选修课（其实是为了混学分），虽说也没去过几次，但总想着这门课都快结束了总不能像没上过一样。这次借着 GnuPG（以下简称 GPG） 软件的使用也聊聊目前现代密码学中以密钥性质进行区分的两大加密方式。"><meta property="og:article:tag" content="安全"><meta property="og:article:tag" content="GPG"><meta property="og:article:tag" content="密码学"><meta property="article:published_time" content="2017-12-11T09:12:16.000+00:00"><meta property="article:modified_time" content="2017-12-24T19:12:22.000+00:00"><meta name="twitter:card" content="summary_large_image"><link rel="canonical" href="https://blog.itswincer.com/posts/4aa5d46d/"><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Wincer&#39;s Blog",
        "logo": {
            "@type":"ImageObject",
            "url": "https://blog.itswincer.com/img/favicon.png"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Wincer",
        "image": {
            "@type": "ImageObject",
            "url": "https://ae01.alicdn.com/kf/HTB1DdGHXizxK1RjSspj763S.pXax.png"
        },
        "description": "昔日玫瑰以其名流芳，今人所持唯玫瑰之名"
    },
    "url": "https://blog.itswincer.com/posts/4aa5d46d/",
    "headline": "从 GnuPG 的使用谈谈密码学",
    "name": "从 GnuPG 的使用谈谈密码学",
    "inLanguage": {
        "@type": "Language",
        "alternateName": "zh-CN"
    },
    "image": {
        "@type": "ImageObject",
        "url": "https://ae01.alicdn.com/kf/HTB168m6aojrK1RkHFNRq6ySvpXae.jpg"
    },
    "datePublished": "Mon Dec 11 2017 09:26:16 GMT+0000",
    "dateModified": "Sun Dec 24 2017 19:35:22 GMT+0000",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://blog.itswincer.com/posts/4aa5d46d/"
    },

    "keywords": ",安全,GPG,密码学Blog",
    "description": "前言我是一个很注重隐私的人，所以对密码学也就很感兴趣，这学期本着想进一步了解密码学的念头选了一门应用密码学的选修课（其实是为了混学分），虽说也没去过几次，但总想着这门课都快结束了总不能像没上过一样。这次借着 GnuPG（以下简称 GPG） 软件的使用也聊聊目前现代密码学中以密钥性质进行区分的两大加密方式。"
}</script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wincerchan/hexo-theme-material@1.6.1/source/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wincerchan/hexo-theme-material@1.6.1/source/css/material.min.css"><!--[if lte IE 9]><link rel="stylesheet" href="/css/ie-blocker.css"><script src="/js/ie-blocker.zhCN.js"></script><![endif]--><script>window.lsloader={jsRunSequence:[],jsnamemap:{}},lsloader.removeLS=function(e){try{localStorage.removeItem(e)}catch(e){}},lsloader.setLS=function(e,t){try{localStorage.setItem(e,t)}catch(e){}},lsloader.getLS=function(e){var t="";try{t=localStorage.getItem(e)}catch(e){t=""}return t},versionString="/*"+(window.materialVersion||"unknownVersion")+"*/",lsloader.clean=function(){try{for(var e=[],t=0;t<localStorage.length;t++)e.push(localStorage.key(t));e.forEach(function(e){-1===lsloader.getLS(e).indexOf(versionString)&&lsloader.removeLS(e)})}catch(e){}},lsloader.clean(),lsloader.load=function(e,t,n,s){var o;"boolean"==typeof n&&(s=n,n=void 0),s=s||!1,n=n||function(){},(o=this.getLS(e))&&-1===o.indexOf(versionString)?(this.removeLS(e),this.requestResource(e,t,n,s)):o?o.split(versionString)[0]!=t?(console.log("reload:"+t),this.removeLS(e),this.requestResource(e,t,n,s)):(o=o.split(versionString)[1],s?(this.jsRunSequence.push({name:e,code:o}),this.runjs(t,e,o)):(document.getElementById(e).appendChild(document.createTextNode(o)),n())):this.requestResource(e,t,n,s)},lsloader.requestResource=function(t,n,e,s){var o=this;s?this.iojs(n,t,function(e,t,n){o.setLS(t,e+versionString+n),o.runjs(e,t,n)}):this.iocss(n,t,function(e){document.getElementById(t).appendChild(document.createTextNode(e)),o.setLS(t,n+versionString+e)},e)},lsloader.iojs=function(t,n,e){var s=this;s.jsRunSequence.push({name:n,code:""});try{var o=new XMLHttpRequest;o.open("get",t,!0),o.onreadystatechange=function(){4==o.readyState&&((200<=o.status&&o.status<300||304==o.status)&&""!=o.response?e(t,n,o.response):s.jsfallback(t,n))},o.send(null)}catch(e){s.jsfallback(t,n)}},lsloader.runjs=function(e,t,n){if(t&&n)for(var s in this.jsRunSequence)this.jsRunSequence[s].name==t&&(this.jsRunSequence[s].code=n);if(this.jsRunSequence[0]&&this.jsRunSequence[0].code&&"failed"!=this.jsRunSequence[0].status)(e=document.createElement("script")).appendChild(document.createTextNode(this.jsRunSequence[0].code)),e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e),this.jsRunSequence.shift(),0<this.jsRunSequence.length&&this.runjs();else if(this.jsRunSequence[0]&&"failed"==this.jsRunSequence[0].status){var o=this;(e=document.createElement("script")).src=this.jsRunSequence[0].path,e.type="text/javascript",this.jsRunSequence[0].status="loading",e.onload=function(){o.jsRunSequence.shift(),0<o.jsRunSequence.length&&o.runjs()},document.body.appendChild(e)}},lsloader.jsfallback=function(e,t){if(!this.jsnamemap[t]){for(var n in this.jsnamemap[t]=t,this.jsRunSequence)this.jsRunSequence[n].name==t&&(this.jsRunSequence[n].code="",this.jsRunSequence[n].status="failed",this.jsRunSequence[n].path=e);this.runjs()}},lsloader.cssfallback=function(e,t,n){this.cssnamemap[t]||(this.cssnamemap[t]=1,(t=document.createElement("link")).type="text/css",t.href=e,t.rel="stylesheet",t.onload=t.onerror=n,(e=document.getElementsByTagName("script")[0]).parentNode.insertBefore(t,e))},lsloader.runInlineScript=function(e,t){t=document.getElementById(t).innerText,this.jsRunSequence.push({name:e,code:t}),this.runjs()}</script><script>function Queue(){this.dataStore=[],this.offer=function(e){this.debug&&console.log("Offered a Queued Function.");"function"==typeof e?this.dataStore.push(e):console.log("You must offer a function.")},this.poll=function(){this.debug&&console.log("Polled a Queued Function.");return this.dataStore.shift()},this.execNext=function(){var e=this.poll();void 0!==e&&(this.debug&&console.log("Run a Queued Function."),e())},this.debug=!1,this.startDebug=function(){this.debug=!0}}var queue=new Queue</script><style>#post-content hr{height:20px;margin:15px auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAAAZBAMAAAD6cmD+AAAAJFBMVEX////+/v7u7u79/f38/Pz19fX5+fnm5ubr6+vg4ODz8/PX19fmfbrEAAABVklEQVQYGb3AsWoUQRjA8f/HN06R6ht33cJKDhSNzR4rCKlmCdEz1QkHkm4lgeSsoics6VRyQiwDJ3I2erHIvYJP5xPMRRjIjxvUUZ1V7JLLSegqXhu5YomeXXkhWz18+WEpZJPC9+36d0GuyPGpbC07cjk96yp7ckiuOP3or9/eWfIfhJQGc73sP5yzPiqcsVFgg8DzmR91q8O7C4uOBAkGIEZCAb7v9h6J/2wXEzESDASsMBK0iCezajUuOIn3vxNI0VqB/ceDhO0oT52fq3U7p+7C3g0Svgz+AKZGQiv1m/O4Kutno6MXi8aTUrYOCIQEtK4um53z0s/14IEnJOyCsFHAXn3Sax2N9y6JLUlq3MT/kHvbX/VggpFnOisHE/+3FRNyBN9T2PoKMSGH1sfv3dYykqvwZd+tf4VAptJs+m3h1BCyyFCbn2MactUMZeLUuDX/AFJQRNLkIJPDAAAAAElFTkSuQmCC) center center no-repeat}#post-content,#post-content p,.sidebar-colored .sidebar-nav li>a{color:#2f2f2f!important;font-size:16px}#post-content ol,#post-content ul{font-size:16px}#post-content h2,h3,h4{color:#4c4c4c!important}body,html{text-shadow:0 0 1px rgba(0,0,0,.22)}table{display:table!important}body,html{font-family:Roboto,"Helvetica Neue",Helvetica,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","微软雅黑",Arial,sans-serif}code{font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace}a{color:#00838f}#scheme-Paradox .hot_tags-count,#scheme-Paradox .sidebar-colored .sidebar-badge,#scheme-Paradox .sidebar-colored .sidebar-header,#scheme-Paradox .sidebar_archives-count,#search-form-label:after,#search-label,.mdl-card__media{background-color:#0097a7!important}#scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus,#scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover{color:#0097a7!important}#ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a,#post_entry-right-info,.sidebar-colored .sidebar-nav li:hover>a,.sidebar-colored .sidebar-nav li:hover>a i,.sidebar-colored .sidebar-nav li>a:focus i,.sidebar-colored .sidebar-nav li>a:hover,.sidebar-colored .sidebar-nav li>a:hover i,.sidebar-colored .sidebar-nav>.open>a,.sidebar-colored .sidebar-nav>.open>a:focus,.sidebar-colored .sidebar-nav>.open>a:hover{color:#0097a7!important}.toTop{background:#757575!important}.material-layout .material-index>.material-nav,.material-layout .material-post>.material-nav,.material-nav a{color:#757575}#scheme-Paradox .MD-burger-layer{background-color:#757575}#scheme-Paradox #post-toc-trigger-btn{color:#757575}.post-toc a:hover{color:#00838f;text-decoration:underline}</style><style>body{background-color:#f5f5f5}#scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{background-color:#fff}</style><style></style><style>@font-face{font-family:'Material Icons';font-style:normal;font-weight:400;src:url(https://cdn.jsdelivr.net/npm/material-design-icons-iconfont@3.0.3/dist/fonts/MaterialIcons-Regular.woff) format('woff')}</style><script>lsloader.load("jq_js","https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js",!0)</script><script>"blog.itswincer.com"===location.hostname&&function(e,t,n,i,a){var o=n.screen,g=encodeURIComponent,r=["ga=UA-101362832-1","dt="+g(i.title),"dr="+g(i.referrer),"ul="+(a.language||a.browserLanguage||a.userLanguage),"sd="+o.colorDepth+"-bit","sr="+o.width+"x"+o.height,"vp="+Math.max(i.documentElement.clientWidth,n.innerWidth||0)+"x"+Math.max(i.documentElement.clientHeight,n.innerHeight||0),"z="+ +new Date];n.__ga_img=new Image,n.__ga_img.src="https://ga.giuem.com?"+r.join("&")}(0,0,window,document,navigator,location)</script><link rel="manifest" href="/manifest.json"></head><div></div><body id="scheme-Paradox" class="lazy"><div class="material-layout mdl-js-layout has-drawer is-upgraded"><main class="material-layout__content" id="main"><div id="top"></div><button class="MD-burger-icon sidebar-toggle"><span class="MD-burger-layer"></span></button> <button id="post-toc-trigger-btn" class="mdl-button mdl-js-button mdl-button--icon"><i class="material-icons">format_list_numbered</i></button><ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh;overflow-y:scroll"><ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#前言"><span class="post-toc-number">1.</span> <span class="post-toc-text">前言</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#对称密钥加密"><span class="post-toc-number">2.</span> <span class="post-toc-text">对称密钥加密</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#公开密钥加密"><span class="post-toc-number">3.</span> <span class="post-toc-text">公开密钥加密</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#数字签名"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">数字签名</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#GPG-教程"><span class="post-toc-number">4.</span> <span class="post-toc-text">GPG 教程</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#对称加密"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">对称加密</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#非对称加密"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">非对称加密</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#生成密钥"><span class="post-toc-number">4.2.1.</span> <span class="post-toc-text">生成密钥</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#导出密钥"><span class="post-toc-number">4.2.2.</span> <span class="post-toc-text">导出密钥</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#加密"><span class="post-toc-number">4.2.3.</span> <span class="post-toc-text">加密</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#解密"><span class="post-toc-number">4.2.4.</span> <span class="post-toc-text">解密</span></a></li></ol></li></ol></li></ol></ul><div class="material-post_container"><div class="material-post mdl-grid"><div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col"><div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(https://ae01.alicdn.com/kf/HTB168m6aojrK1RkHFNRq6ySvpXae.jpg)"><p class="article-headline-p">从 GnuPG 的使用谈谈密码学</p></div><div class="mdl-color-text--grey-700 mdl-card__supporting-text meta"><div id="author-avatar"><img src="https://ae01.alicdn.com/kf/HTB1DdGHXizxK1RjSspj763S.pXax.png" width="44px" height="44px" alt="Author Avatar"></div><div><strong>Wincer</strong> <span>12月 11, 2017</span></div><div class="section-spacer"></div><button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"><i class="material-icons" role="presentation">devices other</i> <span class="visuallyhidden">devices other</span></button><ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button"><li class="mdl-menu__item">在其它设备中阅读本文章</li><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAAB7UlEQVR42u3aMXYCMQwFQO5/6aRNk82XZRNsz1Y8shDNFkKy9Po64nphYGBgYGBgYHwM4xVfyad+/vX5/gkxYGBgXMb4I7X9cs8z4zmIfgwYGBh3MpIEmt//nFg7MWBgYGAkjGqSTULHwMDAWJ1wk5Ku/5gwMDAwqqHk4eaP5k29OAYGxoaM/FB+3eu3zjcwMDC2YpRXHIKEm6TRJMku3BnBwMDYilEt6XJeXvyN/V8MDIzbGHm67I85qyOEchOLgYFxHGNWEM9HcvnxXKvCxcDAuJKRpNrnQOeOEDAwMDASQLVxHUym1SYWAwPjaMZYAq0e+o+VmEt6cQwMjG0Zs0jlw/24DR6cb2BgYBzByFvZapPZaW6j9zEwMK5h5KF3jvj7qxsYGBgYYym4+j15QRk9YgwMjCsZY2te+WCyWghO+N3AwMA4jpGUa9VUm3/ntCYWAwPjaEZ/7T5PzdVF2CUjTAwMjE0YnRSZH9hV03dUXGJgYFzDGFvVGluzGGuAC00sBgbG0YxqqzmrKMwTemu+gYGBcRCjOkocW07tPw4MDAyMvHTLm9ikcMwP8jAwMDCqjGrCrVJbI0wMDIzjGNU1iyQFV0vGwhIGBgbGZYyxBYjOYVwS9ML5BgYGxlaMfS8MDAwMDAwMjH+9vgHmXRHu6ybHEwAAAABJRU5ErkJggg=="></ul><button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"><i class="material-icons" role="presentation">bookmark</i> <span class="visuallyhidden">bookmark</span></button><ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button"><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/GPG/">GPG</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/安全/">安全</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/密码学/">密码学</a></li></ul><button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"><i class="material-icons" role="presentation">share</i> <span class="visuallyhidden">share</span></button><ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button"><a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=从 GnuPG 的使用谈谈密码学&url=https://blog.itswincer.com/posts/4aa5d46d/index.html&pic=https://blog.itswincer.comhttps://blog.itswincer.com/img/favicon.png&searchPic=false&style=simple" target="_blank"><li class="mdl-menu__item">分享到微博</li></a><a class="post_share-link" href="https://twitter.com/intent/tweet?text=从 GnuPG 的使用谈谈密码学&url=https://blog.itswincer.com/posts/4aa5d46d/index.html&via=Wincer" target="_blank"><li class="mdl-menu__item">分享到 Twitter</li></a><a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.itswincer.com/posts/4aa5d46d/index.html" target="_blank"><li class="mdl-menu__item">分享到 Facebook</li></a><a class="post_share-link" href="https://plus.google.com/share?url=https://blog.itswincer.com/posts/4aa5d46d/index.html" target="_blank"><li class="mdl-menu__item">分享到 Google+</li></a><a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Wincer&#39;s Blog&title=从 GnuPG 的使用谈谈密码学&summary=这里是 @Wincer，喜欢折腾新技术，却没多大耐心。个人博客会写得比较杂，包括日常吐槽、技术踩坑，偶尔会写正经一点的。欢迎订阅 RSS(•̀ᴗ•́)。&pics=https://blog.itswincer.comhttps://blog.itswincer.com/img/favicon.png&url=https://blog.itswincer.com/posts/4aa5d46d/index.html" target="_blank"><li class="mdl-menu__item">分享到 QQ</li></a></ul></div><div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out"><h2 id="前言"><a href="posts/4aa5d46d/#前言" class="headerlink" title="前言"></a>前言</h2><p>我是一个很注重隐私的人，所以对密码学也就很感兴趣，这学期本着想进一步了解密码学的念头选了一门应用密码学的选修课（其实是为了混学分），虽说也没去过几次，但总想着这门课都快结束了总不能像没上过一样。这次借着 GnuPG（以下简称 GPG） 软件的使用也聊聊目前现代密码学中以密钥性质进行区分的两大加密方式。</p><a id="more"></a><h2 id="对称密钥加密"><a href="posts/4aa5d46d/#对称密钥加密" class="headerlink" title="对称密钥加密"></a>对称密钥加密</h2><p>大概半年前，写过一个暴力破解加密压缩文件的程序，说白了就是跑字典，不断的试密码，这只能破解常用密码，一旦用户采用随机生成的密码就无从下手。我们平时所用到的压缩加密大多都是对称性加密，即我们用同一字符串对文件进行加密，又用同一字符串进行解密（此时为了保证安全，密码需越复杂越好）。</p><blockquote><p>明文 &lt;–> 密钥 &lt;–> 密文</p></blockquote><p>对称加密很方便也很快速，但是也带来了一个很大的缺点，由于加密和解密用的都是同一密钥，在传输的过程中，要求双方取得相同的密钥，这会大大降低加密的安全性（注意：这里所说的不安全不是说对称加密算法不安全，而是从密钥的获取程度来说的，即密钥知道的人越少越安全）。</p><p>在如今的互联网时代，通信双方分隔异地且素为谋面，则对称加密要求事先交换共同密钥的安全性也无法得到保障。</p><h2 id="公开密钥加密"><a href="posts/4aa5d46d/#公开密钥加密" class="headerlink" title="公开密钥加密"></a>公开密钥加密</h2><p>那么为了解决对称加密的安全隐患，非对称加密诞生了。<br>与对称加密不同的是，非对称加密的加密和解密所需要的密钥是不同的，而且知道了其中一方，想推导出另一方（需要解决一个数学难题），在量子计算机时代来临之前，基本是不可能完成的。<br>因此公开其中一个密钥，并不会对密钥对的安全性有影响。<br>我们常说，公钥可以公开，私钥需要保密，但其实公钥和私钥在生成过程上，并无什么不同。并不是因为公钥公开后，解密出私钥困难，如果公开的是私钥，解密出公钥也同样困难。也就是说我们将一对密钥公开的那部分叫公钥，另一部分叫做私钥。并不是因为公钥，才能公开，私钥，就必须保密。</p><blockquote><p>明文 &lt;–> 公钥 &lt;–> 密文 &lt;–> 私钥 &lt;–> 明文</p></blockquote><p>前一段时间很火的勒索病毒就是采用的非对称加密中的 RSA-4096 加密算法。<br>想具体了解 RSA 加密原理的话，<a href="http://www.ruanyifeng.com/blog/2013/06/rsa_algorithm_part_one.html" target="_blank" rel="noopener">点击这里</a>。<br>由于公钥加密在计算上相当复杂，导致其加密速度相对于对称加密来说慢。</p><h3 id="数字签名"><a href="posts/4aa5d46d/#数字签名" class="headerlink" title="数字签名"></a>数字签名</h3><p>其中对称加密还有一个用处：数字签名。<br>对称加密的公钥和私钥在使用顺序上并没有什么要求，你可以用公钥加密，私钥解密，这就是非对称加密算法，同样可以用私钥加密，公钥解密，而这就成为数字签名。<br>由于私钥是发送者保存的，发送者用私钥加密后的信息，任何拥有该发送者的公钥的人都可以解密该信息。如果接收用发送者公开的公钥解开了，那么说明这个信息是确实是发送者发送的（没有被篡改，也不是伪造的）。公众也可以信赖这条信息确实来自与该用户，用户无法否认。</p><p>一般来说，不直接对消息进行签名，而是对消息的哈希值进行签名，并将签名附赠在消息一起发送。</p><p>总结一下二者的优点与缺点：</p><ul><li>对称密钥加密（使用最广泛的 AES）：加解密速度很快，强度也足够，但问题在于寻找一个安全通道让通信双方交换密钥很困难</li><li>公开密钥加密（使用最广泛的 RSA）：加解密速度很慢，但可以解决通信双方安全通道的问题</li></ul><p>故现在多将二者结合使用：需要加密的主体内容使用对称加密，对称加密的密钥使用非对称加密。</p><h2 id="GPG-教程"><a href="posts/4aa5d46d/#GPG-教程" class="headerlink" title="GPG 教程"></a>GPG 教程</h2><p>下面说说如何使用 GPG 软件加密文件。</p><p>GPG 支持的算法有很多：</p><blockquote><p>公钥：RSA, ELG, DSA, ECDH, ECDSA, EDDSA</p><p>对称加密：IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256,</p><p>​ TWOFISH, CAMELLIA128, CAMELLIA192, CAMELLIA256</p><p>散列：SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224</p><p>压缩：不压缩，ZIP，ZLIB，BZIP2</p></blockquote><h3 id="对称加密"><a href="posts/4aa5d46d/#对称加密" class="headerlink" title="对称加密"></a>对称加密</h3><p>使用对称加密很简单，只需要一行就可以：</p><pre><code class="bash">gpg --cipher-algo [对称加密算法名称] -c FILENAME
</code></pre><p>随后会让你输入两次密码，就会生成一个 FILENAME.gpg 的文件在同目录下。</p><p>解密：</p><pre><code class="bash">gpg -o FILENAME -d FILENAME.gpg
</code></pre><p>更多参数请输入 <code>gpg -h</code> 自行查阅。</p><h3 id="非对称加密"><a href="posts/4aa5d46d/#非对称加密" class="headerlink" title="非对称加密"></a>非对称加密</h3><h4 id="生成密钥"><a href="posts/4aa5d46d/#生成密钥" class="headerlink" title="生成密钥"></a>生成密钥</h4><p>（这里如果输入的是 <code>--gen-key</code> 的话，会省去一些步骤：自动设置密钥尺寸为 2048 位、有效期限为 2 年、注释留空）：</p><pre><code class="bash">gpg --full-generate-key
</code></pre><p>回车后，出现以下文字：</p><pre><code class="bash">gpg (GnuPG) 2.2.3; Copyright (C) 2017 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

请选择您要使用的密钥种类：
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (仅用于签名)
   (4) RSA (仅用于签名)
您的选择？ 
</code></pre><p>选择 1：</p><pre><code class="bash">RSA 密钥长度应在 1024 位与 4096 位之间。
您想要用多大的密钥尺寸？(2048)
</code></pre><p>选择 4096：</p><pre><code class="bash">请设定这把密钥的有效期限。
         0 = 密钥永不过期
      &lt;n&gt;  = 密钥在 n 天后过期
      &lt;n&gt;w = 密钥在 n 周后过期
      &lt;n&gt;m = 密钥在 n 月后过期
      &lt;n&gt;y = 密钥在 n 年后过期
密钥的有效期限是？(0) 
</code></pre><p>如果想设置 5 年过期，输入 5y，我这里是自己私人用，选择 0，随后会让你确认以上信息正确与否，输入 y，系统会要求你提供一下个人信息：</p><pre><code class="bash">You need a user ID to identify your key; the software constructs the user ID
from the Real Name, Comment and Email Address in this form:
    &quot;Heinrich Heine (Der Dichter) &lt;heinrichh#duesseldorf.de&gt;&quot;

真实姓名：
电子邮件地址：
注释：
</code></pre><p>注释这一栏可以留空。</p><p>随后：</p><pre><code class="bash">您选定了这个用户标识：
    &quot;×××××× &lt;××@×××.com&gt;&quot;

更改姓名(N)、注释(C)、电子邮件地址(E)或确定(O)/退出(Q)？
</code></pre><p>输入 o，会弹框提示设置一个密码，用于保护私钥。</p><p>与此同时，系统也会提示：</p><pre><code class="bash">我们需要生成大量的随机字节。这个时候您可以多做些琐事(像是敲打键盘、移动
鼠标、读写硬盘之类的)，这会让随机数字发生器有更好的机会获得足够的熵数。
</code></pre><p>几秒后，系统就会提示密钥已经生成。</p><h4 id="导出密钥"><a href="posts/4aa5d46d/#导出密钥" class="headerlink" title="导出密钥"></a>导出密钥</h4><p>显示系统的私钥：</p><pre><code class="bash">gpg -K
</code></pre><p>显示系统的公钥：</p><pre><code class="bash">gpg -k
</code></pre><p>删除密钥：</p><pre><code class="bash">gpg --delete-keys [uid]
gpg --delete-secret-keys [uid]
</code></pre><p>其中 uid 可以使用邮箱代替，下同。</p><p>导出公钥：</p><pre><code class="bash">gpg -o public.key --export [uid]
</code></pre><p>导出私钥：</p><pre><code class="bash">gpg -o private.key --export-secret-keys
</code></pre><p>这样导出的 key 文件是二进制，不可读，加上 –armor 参数可以保存为 ASCII 码形式。</p><p>导入密钥：</p><pre><code class="bash">gpg --import [key 文件]
</code></pre><h4 id="加密"><a href="posts/4aa5d46d/#加密" class="headerlink" title="加密"></a>加密</h4><pre><code class="bash">gpg -r [uid] -o FILENAME.gpg -e FILENAME
</code></pre><p>-r 指定用户的公钥，如自己使用改为自己邮箱即可，-o 指定加密后输出文件名称。</p><h4 id="解密"><a href="posts/4aa5d46d/#解密" class="headerlink" title="解密"></a>解密</h4><pre><code class="bash">gpg -o FILENAME -d FILENAME.gpg
</code></pre><p>会让你输入密码，即用于保护私钥的密码。</p><p>参考：</p><ul><li><a href="https://zh.wikipedia.org/wiki/%E5%85%AC%E5%BC%80%E5%AF%86%E9%92%A5%E5%8A%A0%E5%AF%86" target="_blank" rel="noopener">公开密钥加密</a></li><li><a href="http://www.ruanyifeng.com/blog/2013/07/gpg.html" target="_blank" rel="noopener">GPG 入门教程</a></li></ul><blockquote style="margin:2em 0 0;padding:.5em 1em;border-left:3px solid #f44336;background-color:#f5f5f5;list-style:none"><p><b>本文标题：</b> 从 GnuPG 的使用谈谈密码学<br><b>最后更新：</b>2017 年 12 月 24 日 - 19:12<br><b>本文链接：</b><a href="https://blog.itswincer.com/posts/4aa5d46d/">https://blog.itswincer.com/posts/4aa5d46d/</a><br><b>本文采用：署名-非商业性使用-禁止演绎 4.0 国际</b> 协议进行许可，阅读 <a rel="nofollow noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh" target="_blank">相关说明</a></p></blockquote></div><div id="disqus-comment"><div id="disqus_thread"></div><style>.disqus_click_btn,.load_gist{line-height:30px;margin:0;min-width:50px;padding:0 14px;display:inline-block;font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px;font-weight:400;text-transform:uppercase;letter-spacing:0;overflow:hidden;will-change:box-shadow;transition:box-shadow .2s cubic-bezier(.4,0,1,1),background-color .2s cubic-bezier(.4,0,.2,1),color .2s cubic-bezier(.4,0,.2,1);outline:0;cursor:pointer;text-decoration:none;text-align:center;vertical-align:middle;border:0;background:#b3d4fc;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12);color:#fff;background-color:#757575;text-shadow:0;display:none}</style><div class="btn_click_load"><button class="disqus_click_btn">阅读评论（请确保 disqus 可以正常加载）</button></div><script type="text/javascript">var disqus_config=function(){this.page.url="https://blog.itswincer.com/posts/4aa5d46d/",this.page.identifier="https://blog.itswincer.com/posts/4aa5d46d/"}</script><script type="text/javascript" id="disqus-lazy-load-script">$.ajax({url:"https://disqus.com/next/config.json",timeout:400,type:"GET",success:function(){var s=document,t=s.createElement("script");t.src="//wincer.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(s.head||s.body).appendChild(t),$(".disqus_click_btn").css("display","none")},error:function(){$(".disqus_click_btn").css("display","block")}})</script><script type="text/javascript" id="disqus-click-load">$(".btn_click_load").click(function(){var e,t;e=document,(t=e.createElement("script")).src="//wincer.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t),$(".disqus_click_btn").css("display","none")})</script></div><style>#disqus-comment{background-color:#eee;padding:2pc}</style></div><nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col"><a href="/posts/5873b0c0/" id="post_nav-newer" class="prev-content"><button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation"><i class="material-icons">arrow_back</i></button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 新篇</a><div class="section-spacer"></div><a href="/posts/a9d193c6/" id="post_nav-older" class="next-content">旧篇 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation"><i class="material-icons">arrow_forward</i></button></a></nav></div></div><div class="sidebar-overlay"></div><aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation"><div id="sidebar-main"><div class="sidebar-header header-cover" style="background-image:url(https://ae01.alicdn.com/kf/HTB1by2eah_rK1RkHFqD761JAFXaS.png)"><div class="top-bar"></div><button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display:initial" data-upgraded=",MaterialButton,MaterialRipple"><i class="material-icons">clear_all</i><span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></button><div class="sidebar-image"><img src="https://ae01.alicdn.com/kf/HTB1DdGHXizxK1RjSspj763S.pXax.png" alt="Wincer's avatar"></div><a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">WincerChan<span style="display:none">fuck</span>@gmail.com<b class="caret"></b></a></div><ul class="nav sidebar-nav"><li class="dropdown"><ul id="settings-dropdown" class="dropdown-menu"><li><a class="obfus" href target="_blank" title="Email Me"><i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i> Email Me</a></li></ul></li><li id="sidebar-first-li"><a href="/"><i class="material-icons sidebar-material-icons">home</i> 主页</a></li><li class="dropdown"><a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown"><i class="material-icons sidebar-material-icons">chrome_reader_mode</i> 分类<b class="caret"></b></a><ul class="dropdown-menu"><li><a class="sidebar_archives-link" href="/categories/分享境/">分享境<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/categories/博客栈/">博客栈<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/实验室/">实验室<span class="sidebar_archives-count">11</span></a></li><li><a class="sidebar_archives-link" href="/categories/文字阁/">文字阁<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/碎碎念/">碎碎念<span class="sidebar_archives-count">14</span></a></li></ul></li><li class="divider"></li><li><a href="/timeline/" title="归档"><i class="material-icons sidebar-material-icons">inbox</i> 归档</a></li><li><a href="/tags/" title="标签"><i class="material-icons sidebar-material-icons">label</i> 标签</a></li><li><a href="/life/" title="生活"><i class="material-icons sidebar-material-icons">book</i> 生活</a></li><li><a href="/friends/" title="友链"><i class="material-icons sidebar-material-icons">people</i> 友链</a></li><li><a href="/about/" title="关于"><i class="material-icons sidebar-material-icons">person</i> 关于</a></li><li><a href="/atom.xml" title="订阅"><i class="material-icons sidebar-material-icons">rss_feed</i> 订阅</a></li><li class="divider"></li><li><a href="/archives">文章总数 <span class="sidebar-badge">46</span></a></li></ul><script>let e = document.querySelectorAll('.obfus');
	console.log(e);
	e.forEach(element => {
		element.href = atob("bWFpbHRvOldpbmNlckNoYW5AZ21haWwuY29t");
	});</script></div></aside><div id="back-to-top" class="toTop-wrap"><a href="#top" class="toTop"><i class="material-icons footer_top-i">expand_less</i></a></div><footer class="mdl-mini-footer" id="bottom"><div class="mdl-mini-footer--left-section sns-list"><a href="https://github.com/WincerChan" target="_blank"><button class="mdl-mini-footer--social-btn social-btn footer-sns-github"><span class="visuallyhidden">Github</span></button></a> <a href="https://t.me/Tivsae" target="_blank"><button class="mdl-mini-footer--social-btn social-btn footer-sns-telegram"><span class="visuallyhidden">Telegram</span></button></a></div><div id="copyright">Copyright&nbsp;©&nbsp;2017&nbsp;-Wincer's Blog</div><script type="text/javascript">document.querySelector('#copyright').innerText = `Copyright © 2017 - ${(new Date()).getFullYear()} Wincer's Blog`;</script><div class="mdl-mini-footer--right-section"><div><div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div><div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div></div></div></footer><script>window.addEventListener('DOMContentLoaded', () => {
    let wait_renders = document.querySelectorAll('.mathrender');
    wait_renders.forEach(ele => {
                katex.render(ele.innerText, ele, {
                    throwOnError: true
                })
            })
})</script><script>lsloader.load("lazyload_js","https://cdn.jsdelivr.net/gh/wincerchan/hexo-theme-material@1.6.1/source/js/lazyload.min.js",!0)</script><script>lsloader.load("js_js","https://cdn.jsdelivr.net/gh/wincerchan/hexo-theme-material@1.6.1/source/js/js.min.js",!0)</script><script>lsloader.load("np_js","https://cdn.jsdelivr.net/gh/wincerchan/hexo-theme-material@1.6.1/source/js/nprogress.js",!0)</script><script type="text/ls-javascript" id="NProgress-script">NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 300);</script><style>.load_gist{text-align:center;display:block;height:30px}.gist-data table{margin:inherit!important}.gist-data table td{padding:inherit!important;border:inherit!important}div{box-sizing:border-box}</style><script>var agent=navigator.userAgent.toLowerCase();0<agent.indexOf("ucbrowser")&&(document.write('<link rel="stylesheet" href="/css/uc.css">'),alert("由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。"))</script><script>lsloader.load("hanabi","https://cdn.jsdelivr.net/gh/wincerchan/hexo-theme-material@1.6.1/source/js/hanabi-browser-bundle.js",!0)</script><script type="text/ls-javascript" id="window-load">$(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
        
        
        HanabiBrowser.start('pre code',true);</script><script type="text/ls-javascript" id="lazy-load">// Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });</script><script>(function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
    console.clear();
console.log(` %c © Wincer's Blog | Date: ${new Date().toLocaleDateString()} %c https://github.com/WincerChan/MyBlog `,"color: #fff; background-image: linear-gradient(90deg, rgb(18, 103, 144) 0%, rgb(0, 151, 167) 100%); padding:5px 1px;","background-image: linear-gradient(90deg, rgb(18, 103, 144) 0%, rgb(194, 194, 194) 0%); padding:5px 0;")</script></main></div><script>!function(n){var o=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(t,e){var n=new Image,o=t.getAttribute("data-original");n.onload=function(){t.src=o,e&&e()},n.src=o}function c(){for(var t=0;t<o.length;t++)0<=(e=o[t].getBoundingClientRect()).top&&0<=e.left&&e.top<=(n.innerHeight||document.documentElement.clientHeight)&&i(o[t],function(){o.splice(t,t)});var e;console.log("trigger")}c(),n.addEventListener("scroll",function(){var t,e;t=c,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this)</script><script>"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw-c028c8.js?t=1568134342272").then(function(){console.log("ServiceWorker Register Successfully.")}).catch(function(e){console.error(e)})</script></body></html>